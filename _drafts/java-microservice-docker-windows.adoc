---
tags:
- windows
- linux
- bash
- conemu
- git
- docker
- microservice
- gradle
excerpt: |
  Java microservices - Create and run Docker containers on Windows
---
:imagesdir: /images/

= Java microservices - Create and run Docker containers on Windows

== Installing Docker Toolbox and comamnd line environment

.qweqwe
image::1.png[qweqwe]

=== Setup MSYS2

Unlike `Git for Windows` not only `git` but `msys2` with `bash` shell and useful `Linux` command line tools.
* package manager
** easy missing tool installation
** easy autoupgrade
* symlink support

* Download installer from https://msys2.github.io/ and follow installation instructions
** destination folder is `d:\opt\msys`
* add to PATH `d:\opt\msys64\usr\bin`

* Optional Git setup
** cache passwords - old version
** `git config --global core.autocrlf true`

=== Setup Docker Toolbox

`Docker Toolbox` has bundled shell but with git windows.

* Download from https://www.docker.com/docker-toolbox
* Run installer and follow the steps
** destination folder is `d:\opt\docker`
** `Kitematic` can be unchecked
* Uninstall bundled `Git for Windows` 
** no way to unselect 
** no way to choose folder
** doesn't add to PATH

=== Setup ConEmu

* Download from https://conemu.github.io/
** Alpha release can be used
* Run new consoles in the same window
// image  
* Integrate with shell
// Image

=== How to check Docker installation

* Open new console in `ConEmu` with `Ctrl+X`
* Run `/d/opt/docker/start.sh`
* Execute `docker run hello-world`
* Check output
// image here

=== docker-machine tool

* no need to interact with VirtualBox UI pure cmd line 
* useful commands

== Create JVM based app running in Docker container

=== SDKMAN

* hack script replace `-h` to `-d`

=== Create and dockerize test JVM application

* install `Gradle`
* install `LazyBones`
* `Gradle` plugin to generate project
* create main class
* create `Docker` image
* run `Docker` image from command line
