<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>JK&#39;s blog</title>
    <description>Simple blog for some thoughts to be shared. Mostly about Java programming</description>
    <link>http://eshepelyuk.github.io/</link>
    <atom:link href="http://eshepelyuk.github.io/feed.xml" rel="self" type="application/rss+xml" />
    <pubDate>Sat, 22 Nov 2014 07:43:54 +0000</pubDate>
    <lastBuildDate>Sat, 22 Nov 2014 07:43:54 +0000</lastBuildDate>
    <generator>Jekyll v2.4.0</generator>
    
      <item>
        <title>Advanced integration of Jekyll and AsciiDoctor</title>
        <description>&lt;h1&gt;Advanced integration of Jekyll and AsciiDoctor&lt;/h1&gt;
&lt;div id=&quot;preamble&quot;&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Using &lt;code&gt;AsciiDoctor&lt;/code&gt; as markup renderer in &lt;code&gt;Jekyll&lt;/code&gt; is quite straightforward
but there&amp;#8217;s some customization gaps not covered in the most of setup guides over the web
so I&amp;#8217;d like to fill them in this post.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;This tutorial implies you already having sample Jekyll site created
and AsciiDoctor plugin enabled as described in corresponding pages.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;http://jekyllrb.com/docs/installation/&quot; target=&quot;_blank&quot;&gt;Jekyll installation&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/asciidoctor/jekyll-asciidoc&quot; target=&quot;_blank&quot;&gt;Jekyll-AsciiDoc plugin&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&quot;admonitionblock warning&quot;&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class=&quot;icon&quot;&gt;
&lt;i class=&quot;fa icon-warning&quot; title=&quot;Warning&quot;&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class=&quot;content&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;If you are Windows user you probably will fail while running Jekyll sample site at the first time because of &lt;code&gt;Yajl&lt;/code&gt; related error.
The error caused by default syntax highlighter library &lt;code&gt;Pygments&lt;/code&gt; that is not working on Windows out of the box.
To overcome the issue I&amp;#8217;ve replaced it with &lt;code&gt;Coderay&lt;/code&gt; - pure Ruby implementation, by adding a line to Jekyll config.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;title&quot;&gt;_config.yml&lt;/div&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;yaml&quot;&gt;&lt;span class=&quot;key&quot;&gt;highlighter&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;content&quot;&gt;coderay&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;So please keep in mind that this tutorial assumes you are using &lt;code&gt;Coderay&lt;/code&gt; for highlighting code blocks in AsciiDoctor generated HTML.&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;sample-asciidoctor-page&quot;&gt;Sample AsciiDoctor page&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Let&amp;#8217;s create page &lt;code&gt;sample.adoc&lt;/code&gt; and put it to root folder of the site.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code&gt;---
---
:layout: page
= Sample Page

== This is a header

This is a sample page composed in AsciiDoc.
Jekyll converts it to HTML using http://asciidoctor.org[Asciidoctor].

CAUTION: very important tip

[source,ruby]
.sample.rb
----
puts &quot;Hello, World!&quot;
----&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;After running Jekyll you should be able to reach the page at &lt;a href=&quot;http://localhost:4000/sample.html&quot; class=&quot;bare&quot; target=&quot;_blank&quot;&gt;http://localhost:4000/sample.html&lt;/a&gt;.
Obviously you&amp;#8217;d notice quite ugly look and feel and something wrong with generated HTML as well.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;imageblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;img src=&quot;/images/2014-11-06/2.png&quot; alt=&quot;2&quot;&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;applying-default-asciidoctor-stylesheet&quot;&gt;Applying default AsciiDoctor stylesheet&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;AsciiDoctor &lt;em&gt;gem&lt;/em&gt; contains default CSS that decorates HTML in quite pretty way.
Just find file named &lt;code&gt;asciidoctor-default.css&lt;/code&gt; within &lt;em&gt;gem&lt;/em&gt; files,
e.g. &lt;code&gt;$RUBY_HOME/lib/ruby/gems/2.1.0/gems/asciidoctor-1.5.1&lt;/code&gt;,
put it to &lt;code&gt;css&lt;/code&gt; folder of the site and add this line to &lt;code&gt;_includes/head.html&lt;/code&gt; file&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;html&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;link&lt;/span&gt; &lt;span class=&quot;attribute-name&quot;&gt;rel&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;stylesheet&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;attribute-name&quot;&gt;href&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/css/asciidoctor-default.css&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;displaying-asciidoctor-icons-using-fontawesome&quot;&gt;Displaying AsciiDoctor icons using FontAwesome&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;By default AsciiDoctor renders markup icons, like admonitions, etc., using HTML tags and CSS styles relying on external stylesheet and image files.
But there is no need to keep dedicated images for displaying such icons.
Instead one could leverage &lt;strong&gt;icon font&lt;/strong&gt; concept supported by AsciiDoctor.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;&lt;code&gt;FontAwesome&lt;/code&gt; is default &lt;strong&gt;icon font&lt;/strong&gt; library used by AsciiDoctor.
It is a dedicated vector font comprising icons images instead of letters,
thus allowing you to display nice and scalable icons on a web page without need for any PNG/JPG/etc files.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Add font library to your site as described in &lt;em&gt;BootstrapCDN&lt;/em&gt; section
of &lt;a href=&quot;http://fortawesome.github.io/Font-Awesome/get-started/&quot; target=&quot;_blank&quot;&gt;FontAwesome Get Started&lt;/a&gt; guide.
As for sample Jekyll site you should amend &lt;code&gt;_includes/head.html&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;html&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;link&lt;/span&gt; &lt;span class=&quot;attribute-name&quot;&gt;href&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;attribute-name&quot;&gt;rel&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;stylesheet&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Then enable AsciiDoctor &lt;strong&gt;font icons&lt;/strong&gt; support in Jekyll config.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;title&quot;&gt;_config.yml&lt;/div&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;yaml&quot;&gt;&lt;span class=&quot;key&quot;&gt;asciidoctor&lt;/span&gt;:
  &lt;span class=&quot;key&quot;&gt;attributes&lt;/span&gt;:
    - &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;content&quot;&gt;icons=font&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;turning-on-coderay-source-code-highlighting-for-asciidoctor-files&quot;&gt;Turning on Coderay source code highlighting for AsciiDoctor files&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;admonitionblock note&quot;&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class=&quot;icon&quot;&gt;
&lt;i class=&quot;fa icon-note&quot; title=&quot;Note&quot;&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class=&quot;content&quot;&gt;
This entire section can be skipped if you are using &lt;code&gt;Pygments&lt;/code&gt;.
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Since I&amp;#8217;m using  &lt;code&gt;Coderay&lt;/code&gt; as default Jekyll source code highlighting library we should also instruct AsciiDoctor to use it for source code blocks generation.
This is done by adding couple of additional AsciiDoctor attributes to Jekyll config.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;title&quot;&gt;_config.yml&lt;/div&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;yaml&quot;&gt;&lt;span class=&quot;key&quot;&gt;asciidoctor&lt;/span&gt;:
  &lt;span class=&quot;key&quot;&gt;attributes&lt;/span&gt;:
    - &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;content&quot;&gt;icons=font&lt;/span&gt;&lt;/span&gt;
    - &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;content&quot;&gt;source-highlighter=coderay&lt;/span&gt;&lt;/span&gt;
    - &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;content&quot;&gt;coderay-css=style&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;the-outcome&quot;&gt;The outcome&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;After performing all the steps described above you will see better looking HTML with all features available in generated HTML
while accessing &lt;a href=&quot;http://localhost:4000/sample.html&quot; class=&quot;bare&quot; target=&quot;_blank&quot;&gt;http://localhost:4000/sample.html&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;imageblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;img src=&quot;/images/2014-11-06/3.png&quot; alt=&quot;3&quot;&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
        <pubDate>Thu, 06 Nov 2014 00:00:00 +0000</pubDate>
        <link>http://eshepelyuk.github.io/2014/11/06/advanced-jekyll-and-asciidoctor.html</link>
        <guid isPermaLink="true">http://eshepelyuk.github.io/2014/11/06/advanced-jekyll-and-asciidoctor.html</guid>
        
        <category>jekyll</category>
        
        <category>asciidoctor</category>
        
        <category>coderay</category>
        
        <category>fontawesome</category>
        
        <category>howto</category>
        
        
      </item>
    
      <item>
        <title>Automate GitHub Pages publishing with Jekyll and Travis CI</title>
        <description>&lt;h1&gt;Automate GitHub Pages publishing with Jekyll and Travis CI&lt;/h1&gt;
&lt;div id=&quot;preamble&quot;&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Content is a &lt;strong&gt;KING&lt;/strong&gt;. Neither fancy CMS nor online WYSYWIG editors are, but content is.
That&amp;#8217;s why &lt;code&gt;Jekyll&lt;/code&gt; powered  &lt;code&gt;GitHub Pages&lt;/code&gt; got such a popularity.
Just push &lt;code&gt;HTML&lt;/code&gt;, &lt;code&gt;Liquid&lt;/code&gt;, &lt;code&gt;Markdown&lt;/code&gt; etc, then files got processed by &lt;code&gt;Jekyll&lt;/code&gt;
and the whole site becomes available online in a minute.
However, if you&amp;#8217;d like to use extra &lt;code&gt;Jekyll&lt;/code&gt; features, for instance &lt;code&gt;AsciiDoctor&lt;/code&gt;, you should manage site generation yourself.
This quite boring activity could be simplified by leveraging &lt;code&gt;Travis CI&lt;/code&gt; continuous integration project.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;setting-up-jekyll&quot;&gt;Setting up Jekyll&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The only precondition is that you have &lt;code&gt;Jekyll&lt;/code&gt; site already configured using &lt;a href=&quot;http://bundler.io/&quot; target=&quot;_blank&quot;&gt;Bundler&lt;/a&gt; and you can run it locally with&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code&gt;bundle exec jekyll serve&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;setting-up-travis-ci&quot;&gt;Setting up Travis CI&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The whole idea was to make publishing experience of highly customized &lt;code&gt;Jekyll&lt;/code&gt; project to &lt;code&gt;GitHub Pages&lt;/code&gt; exactly the same
as publishing of standard &lt;code&gt;Jekyll&lt;/code&gt; site. You just push your changes to &lt;code&gt;git&lt;/code&gt;, wait couple of minutes and refresh the page with new content.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;I&amp;#8217;m using &lt;em&gt;User Pages&lt;/em&gt; approach &lt;a href=&quot;https://help.github.com/articles/using-jekyll-with-pages/&quot; target=&quot;_blank&quot;&gt;as described here&lt;/a&gt;
so I have two branches for my setup&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;master&lt;/code&gt; for generated static content&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;jekyll&lt;/code&gt; for markup sources and configuration&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The goal is to configure &lt;code&gt;Travis CI&lt;/code&gt; job to listen for commits on &lt;code&gt;jekyll&lt;/code&gt; branch,
then run &lt;code&gt;jekyll build&lt;/code&gt; for process markup sources and then push generated content to &lt;code&gt;master&lt;/code&gt; branch.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;enable-hooks&quot;&gt;Enable Hooks&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;To make &lt;code&gt;Travis CI&lt;/code&gt; listen for commits and do actual work - we have to enable hooks.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;imageblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;img src=&quot;/images/2014-10-28/2.png&quot; alt=&quot;Enable Travis CI hook&quot;&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;travis-ci-configuration&quot;&gt;Travis CI configuration&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Then let&amp;#8217;s limit commit trigger to &lt;code&gt;jekyll&lt;/code&gt; branch only and explicitly configure the script that will be executed after commit detection.
For this we have to put file &lt;code&gt;.travis.yml&lt;/code&gt; to the root of &lt;code&gt;jekyll&lt;/code&gt; branch with following content.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;title&quot;&gt;.travis.yml&lt;/div&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;yaml&quot;&gt;&lt;span class=&quot;key&quot;&gt;language&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;content&quot;&gt;ruby&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;key&quot;&gt;script&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;./build.sh&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;# execute this script on each commit&lt;/span&gt;
&lt;span class=&quot;key&quot;&gt;branches&lt;/span&gt;:
  &lt;span class=&quot;key&quot;&gt;only&lt;/span&gt;:
  - &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;content&quot;&gt;jekyll&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;# only take into account `jekyll&#39; branch&lt;/span&gt;
&lt;span class=&quot;key&quot;&gt;rvm&lt;/span&gt;:
- &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;content&quot;&gt;2.1.2&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;# version of `ruby&#39;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;generate-and-encrypt-github-token-for-travis-ci&quot;&gt;Generate and encrypt GitHub token for Travis Ci&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Since we&amp;#8217;d need to commit and push our changes to other (&lt;code&gt;master&lt;/code&gt;) branch from within the build script
it&amp;#8217;s mandatory to checkout this branch either using &lt;code&gt;HTTPS&lt;/code&gt; or &lt;code&gt;SSH&lt;/code&gt; protocol, as described	&lt;a href=&quot;https://gist.github.com/grawity/4392747&quot; target=&quot;_blank&quot;&gt;HERE&lt;/a&gt;
Easiest way for us is to clone using &lt;code&gt;HTTPS&lt;/code&gt; protocol and use  &lt;em&gt;personal access token&lt;/em&gt; for authentication.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://help.github.com/articles/creating-an-access-token-for-command-line-use/&quot; target=&quot;_blank&quot;&gt;How to generate GitHub Token&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Generate GitHub token&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&quot;imageblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;img src=&quot;/images/2014-10-28/1.png&quot; alt=&quot;Generate GitHub token&quot;&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;admonitionblock caution&quot;&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class=&quot;icon&quot;&gt;
&lt;i class=&quot;fa icon-caution&quot; title=&quot;Caution&quot;&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class=&quot;content&quot;&gt;
Copy generated token somewhere to be used in the next step.
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Putting clear text tokens into script isn&amp;#8217;t good idea, but thanks to &lt;code&gt;travis&lt;/code&gt; command line tool
we can encrypt any &lt;code&gt;name=value&lt;/code&gt; pair and later expose then as environment variables to the build job.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Execute following code in the working directory where &lt;code&gt;jekyll&lt;/code&gt; branch is cloned to.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code&gt;gem install travis
travis encrypt GH_TOKEN=&amp;lt;token&amp;gt; --add env.global&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The command above should add following lines to your &lt;code&gt;.travis.yml&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;yaml&quot;&gt;&lt;span class=&quot;key&quot;&gt;env&lt;/span&gt;:
  &lt;span class=&quot;key&quot;&gt;global&lt;/span&gt;:
    &lt;span class=&quot;key&quot;&gt;secure&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;content&quot;&gt;HERE GOES ENCRYPTED STUFF&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect3&quot;&gt;
&lt;h4 id=&quot;build-script&quot;&gt;Build script&lt;/h4&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;And finally the build script.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;title&quot;&gt;build.sh&lt;/div&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code&gt;#!/bin/bash
# enable error reporting to the console
set -e

# build site with jekyll, by default to `_site&#39; folder
jekyll build

# cleanup
rm -rf ../eshepelyuk.github.io.master

#clone `master&#39; branch of the repository using encrypted GH_TOKEN for authentification
git clone https://${GH_TOKEN}@github.com/eshepelyuk/eshepelyuk.github.io.git ../eshepelyuk.github.io.master

# copy generated HTML site to `master&#39; branch
cp -R _site/* ../eshepelyuk.github.io.master

# commit and push generated content to `master&#39; branch
# since repository was cloned in write mode with token auth - we can push there
cd ../eshepelyuk.github.io.master
git config user.email &quot;eshepelyuk@gmail.com&quot;
git config user.name &quot;Evgeny Shepelyuk&quot;
git add -A .
git commit -a -m &quot;Travis #$TRAVIS_BUILD_NUMBER&quot;
git push origin master&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;run-everything&quot;&gt;Run everything&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;After doing all those steps all you need is to commit and push your &lt;code&gt;jekyll&lt;/code&gt; branch
and then navigate to &lt;a href=&quot;https://travis-ci.org/eshepelyuk/eshepelyuk.github.io/builds&quot; target=&quot;_blank&quot;&gt;Travis CI&lt;/a&gt; build section
of your project to monitor your build progress.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;p-s&quot;&gt;P.S.&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;I hope this tutorial help you setup own &lt;code&gt;Jekyll&lt;/code&gt; with less pain.
Supposedly described steps could be applied to other static site generators like &lt;code&gt;Middleman&lt;/code&gt;, &lt;code&gt;Awestruct&lt;/code&gt; etc.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;credits&quot;&gt;Credits&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The actual setup and this post was inspired by &lt;a href=&quot;https://twitter.com/mojavelinux&quot; target=&quot;_blank&quot;&gt;Dan Allen&lt;/a&gt; reply to my tweet
and the code from &lt;a href=&quot;https://github.com/johncarl81/transfuse/tree/transfuse-jeykll-site&quot; target=&quot;_blank&quot;&gt;this project&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
        <pubDate>Tue, 28 Oct 2014 00:00:00 +0000</pubDate>
        <link>http://eshepelyuk.github.io/2014/10/28/automate-github-pages-travisci.html</link>
        <guid isPermaLink="true">http://eshepelyuk.github.io/2014/10/28/automate-github-pages-travisci.html</guid>
        
        <category>jekyll</category>
        
        <category>github</category>
        
        <category>asciidoctor</category>
        
        <category>travisci</category>
        
        <category>howto</category>
        
        
      </item>
    
      <item>
        <title>Test Me If You Can #1 (Spring Framework)</title>
        <description>&lt;h1&gt;Test Me If You Can #1 (Spring Framework)&lt;/h1&gt;
&lt;div id=&quot;preamble&quot;&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;During my career I often observed people who claim that they are not writing tests because &lt;strong&gt;can&amp;#8217;t cover properly&lt;/strong&gt; integration between components.
Well, I believe most of such people just don&amp;#8217;t know some simply techniques or don&amp;#8217;t have time to dig them out because of stress at their work place.
The lack of such knowledge results into neglecting of integration tests and thus worse software, more bugs and disappointed customer.
So I&amp;#8217;ve decided to share some practices revealing mystery surrounding integration testing.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;better-integration-test-for-spring-based-projects&quot;&gt;Better integration test for Spring based projects&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Tools: &lt;code&gt;Spring&lt;/code&gt;, &lt;code&gt;JUnit&lt;/code&gt;, &lt;code&gt;Mockito&lt;/code&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Imagine the situation with &lt;code&gt;Spring&lt;/code&gt; based project that&amp;#8217;s integrating an external service, e.g. some bank web services.
Issues related to writing test cases and running them within CI for such code are usually the same&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;price per transaction, each time test executed - customer pays&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;tests requests can be interpreted as suspicious traffic, account blocked - tests failures&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;when using non production environments for tests, it can be unstable - again, tests failures&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Usually such problems can be solved by mocking such external service while testing single class that using it,
but when it comes to the need for test larger business flow - you need to run your tests again many components
and made them managed by your container - &lt;code&gt;Spring&lt;/code&gt;.
Luckily &lt;code&gt;Spring&lt;/code&gt; has great &lt;a href=&quot;http://static.springsource.org/spring/docs/3.2.x/spring-framework-reference/html/testing.html&quot; target=&quot;_blank&quot;&gt;test framework&lt;/a&gt;
allowing injection of beans from production configuration, but one needs to mock external services himself.
First intention could be creating mocks in &lt;code&gt;setUp&lt;/code&gt; section of the test and re-inject beans previously injected by &lt;code&gt;Spring&lt;/code&gt;, but think more about it&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;admonitionblock warning&quot;&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class=&quot;icon&quot;&gt;
&lt;i class=&quot;fa icon-warning&quot; title=&quot;Warning&quot;&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class=&quot;content&quot;&gt;
You&amp;#8217;re overriding behavior of container for your test, so there&amp;#8217;s no guarantee it will work the same way for real services on real environment.
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Instead we have not to mock our external services and then re-inject them into corresponding beans, but &lt;strong&gt;make &lt;code&gt;Spring&lt;/code&gt; inject mocks in place of particular beans
, required for our test goals&lt;/strong&gt;. Let&amp;#8217;s illustrate this with code.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;My sample project comprises &lt;code&gt;BankService&lt;/code&gt; representing external service and &lt;code&gt;UserBalanceService&lt;/code&gt; - our service working with &lt;code&gt;BankService&lt;/code&gt;.
&lt;code&gt;UserBalanceService&lt;/code&gt; is quite simple wrapper - just making conversion from &lt;code&gt;String&lt;/code&gt; to &lt;code&gt;Double&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;title&quot;&gt;BankService.java&lt;/div&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;java&quot;&gt;&lt;span class=&quot;directive&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;BankService&lt;/span&gt; {
    &lt;span class=&quot;predefined-type&quot;&gt;String&lt;/span&gt; getBalanceByEmail(&lt;span class=&quot;predefined-type&quot;&gt;String&lt;/span&gt; email);
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;title&quot;&gt;BankServiceImpl.java&lt;/div&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;java&quot;&gt;&lt;span class=&quot;directive&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;BankServiceImpl&lt;/span&gt; &lt;span class=&quot;directive&quot;&gt;implements&lt;/span&gt; BankService {
    &lt;span class=&quot;annotation&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;directive&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;predefined-type&quot;&gt;String&lt;/span&gt; getBalanceByEmail(&lt;span class=&quot;predefined-type&quot;&gt;String&lt;/span&gt; email) {
        &lt;span class=&quot;keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;exception&quot;&gt;UnsupportedOperationException&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;Operation failed due to external exception&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;);
    }
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;title&quot;&gt;UserBalanceService.java&lt;/div&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;java&quot;&gt;&lt;span class=&quot;type&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;UserBalanceService&lt;/span&gt; {
    &lt;span class=&quot;predefined-type&quot;&gt;Double&lt;/span&gt; getAccountBalance(&lt;span class=&quot;predefined-type&quot;&gt;String&lt;/span&gt; email);
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;title&quot;&gt;UserBalanceServiceImpl.java&lt;/div&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;java&quot;&gt;&lt;span class=&quot;directive&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;UserBalanceServiceImpl&lt;/span&gt; &lt;span class=&quot;directive&quot;&gt;implements&lt;/span&gt; UserBalanceService {
    &lt;span class=&quot;annotation&quot;&gt;@Autowired&lt;/span&gt;
    &lt;span class=&quot;directive&quot;&gt;private&lt;/span&gt; BankService bankService;
    &lt;span class=&quot;annotation&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;directive&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;predefined-type&quot;&gt;Double&lt;/span&gt; getAccountBalance(&lt;span class=&quot;predefined-type&quot;&gt;String&lt;/span&gt; email) {
        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;predefined-type&quot;&gt;Double&lt;/span&gt;.valueOf(bankService.getBalanceByEmail(email));
    }
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;And the &lt;code&gt;Spring&lt;/code&gt; dependency XML configuration wiring everything together&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;title&quot;&gt;applicationContext.xml&lt;/div&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;xml&quot;&gt;&lt;span class=&quot;preprocessor&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;&lt;/span&gt;
&lt;span class=&quot;tag&quot;&gt;&amp;lt;beans&lt;/span&gt; &lt;span class=&quot;attribute-name&quot;&gt;xmlns&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;http://www.springframework.org/schema/beans&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;
       &lt;span class=&quot;attribute-name&quot;&gt;xmlns:xsi&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;http://www.w3.org/2001/XMLSchema-instance&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;
       &lt;span class=&quot;attribute-name&quot;&gt;xsi:schemaLocation&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;http://www.springframework.org/schema/beans&lt;/span&gt;
       &lt;span class=&quot;content&quot;&gt;http://www.springframework.org/schema/beans/spring-beans.xsd&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;tag&quot;&gt;&amp;lt;bean&lt;/span&gt; &lt;span class=&quot;attribute-name&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;bankService&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;attribute-name&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;ua.eshepelyuk.blog.springtest.springockito.BankServiceImpl&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;tag&quot;&gt;&amp;lt;bean&lt;/span&gt; &lt;span class=&quot;attribute-name&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;userBalanceService&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;attribute-name&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;ua.eshepelyuk.blog.springtest.springockito.UserBalanceServiceImpl&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;/&amp;gt;&lt;/span&gt;
&lt;span class=&quot;tag&quot;&gt;&amp;lt;/beans&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Our test will look like&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;title&quot;&gt;UserBalanceServiceImplTest.java&lt;/div&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;java&quot;&gt;&lt;span class=&quot;annotation&quot;&gt;@RunWith&lt;/span&gt;(SpringJUnit4ClassRunner.class)
&lt;span class=&quot;annotation&quot;&gt;@ContextConfiguration&lt;/span&gt;(locations = &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;classpath:/springtest/springockito/applicationContext.xml&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;)
&lt;span class=&quot;directive&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;UserBalanceServiceImplProfileTest&lt;/span&gt; {
    &lt;span class=&quot;annotation&quot;&gt;@Autowired&lt;/span&gt;
    &lt;span class=&quot;directive&quot;&gt;private&lt;/span&gt; UserBalanceService userBalanceService;
    &lt;span class=&quot;annotation&quot;&gt;@Autowired&lt;/span&gt;
    &lt;span class=&quot;directive&quot;&gt;private&lt;/span&gt; BankService bankService;
    &lt;span class=&quot;annotation&quot;&gt;@Test&lt;/span&gt;
    &lt;span class=&quot;directive&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;void&lt;/span&gt; shouldReturnMockedBalance() {
        &lt;span class=&quot;predefined-type&quot;&gt;Double&lt;/span&gt; balance = userBalanceService.getAccountBalance(&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;user@bank.com&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;);
        assertEquals(balance, &lt;span class=&quot;predefined-type&quot;&gt;Double&lt;/span&gt;.valueOf(&lt;span class=&quot;float&quot;&gt;123.45D&lt;/span&gt;));
    }
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;As expected after test run we will have &lt;code&gt;UnsupportedOperationException&lt;/code&gt;. Our intention is to replace &lt;code&gt;BankService&lt;/code&gt; with mock and tune its behavior.
It&amp;#8217;s possible to use &lt;code&gt;Mockito&lt;/code&gt; directly as factory bean
but there&amp;#8217;s better alternative - &lt;a href=&quot;https://bitbucket.org/kubek2k/springockito/wiki/Home&quot; target=&quot;_blank&quot;&gt;Springockito framework&lt;/a&gt;.
Please take a look before proceed :)&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The remaining question is how to instruct &lt;code&gt;Spring&lt;/code&gt; to inject mocks instead of real beans,
Prior to version 3.1 there were no alternatives except creating brand new XML configuration for using it in test.
But with introduction of &lt;a href=&quot;http://blog.springsource.com/2011/02/11/spring-framework-3-1-m1-released&quot; target=&quot;_blank&quot;&gt;Bean Definition Profiles&lt;/a&gt;
we now able to create more elegant solution for this, although we still need separate XML for test purposes.
This is how resulting test XML configuration will look like&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;title&quot;&gt;testApplicationContext.xml&lt;/div&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;xml&quot;&gt;&lt;span class=&quot;preprocessor&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;&lt;/span&gt;
&lt;span class=&quot;tag&quot;&gt;&amp;lt;beans&lt;/span&gt; &lt;span class=&quot;attribute-name&quot;&gt;xmlns&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;http://www.springframework.org/schema/beans&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;
       &lt;span class=&quot;attribute-name&quot;&gt;xmlns:xsi&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;http://www.w3.org/2001/XMLSchema-instance&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;
       &lt;span class=&quot;attribute-name&quot;&gt;xmlns:mockito&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;http://www.mockito.org/spring/mockito&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;
       &lt;span class=&quot;attribute-name&quot;&gt;xsi:schemaLocation&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&lt;/span&gt;
       &lt;span class=&quot;content&quot;&gt;http://www.mockito.org/spring/mockito https://bitbucket.org/kubek2k/springockito/raw/tip/springockito/src/main/resources/spring/mockito.xsd&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;tag&quot;&gt;&amp;lt;import&lt;/span&gt; &lt;span class=&quot;attribute-name&quot;&gt;resource&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;classpath:/springtest/springockito/applicationContext.xml&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;tag&quot;&gt;&amp;lt;beans&lt;/span&gt; &lt;span class=&quot;attribute-name&quot;&gt;profile&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;springTest&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;tag&quot;&gt;&amp;lt;mockito:mock&lt;/span&gt; &lt;span class=&quot;attribute-name&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;bankService&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;attribute-name&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;ua.eshepelyuk.blog.springtest.springockito.BankService&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;tag&quot;&gt;&amp;lt;/beans&amp;gt;&lt;/span&gt;
&lt;span class=&quot;tag&quot;&gt;&amp;lt;/beans&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;And the test modified accordingly.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;title&quot;&gt;UserBalanceServiceImplProfileTest.java&lt;/div&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;java&quot;&gt;&lt;span class=&quot;annotation&quot;&gt;@RunWith&lt;/span&gt;(SpringJUnit4ClassRunner.class)
&lt;span class=&quot;annotation&quot;&gt;@ContextConfiguration&lt;/span&gt;(locations = &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;classpath:/springtest/springockito/testApplicationContext.xml&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;)
&lt;span class=&quot;annotation&quot;&gt;@ActiveProfiles&lt;/span&gt;(profiles = {&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;springTest&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;})
&lt;span class=&quot;directive&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;UserBalanceServiceImplProfileTest&lt;/span&gt; {
    &lt;span class=&quot;annotation&quot;&gt;@Autowired&lt;/span&gt;
    &lt;span class=&quot;directive&quot;&gt;private&lt;/span&gt; UserBalanceService userBalanceService;
    &lt;span class=&quot;annotation&quot;&gt;@Autowired&lt;/span&gt;
    &lt;span class=&quot;directive&quot;&gt;private&lt;/span&gt; BankService bankService;
    &lt;span class=&quot;annotation&quot;&gt;@Before&lt;/span&gt;
    &lt;span class=&quot;directive&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;void&lt;/span&gt; setUp() &lt;span class=&quot;directive&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;exception&quot;&gt;Exception&lt;/span&gt; {
        Mockito.when(bankService.getBalanceByEmail(&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;user@bank.com&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;)).thenReturn(&lt;span class=&quot;predefined-type&quot;&gt;String&lt;/span&gt;.valueOf(&lt;span class=&quot;float&quot;&gt;123.45D&lt;/span&gt;));
    }
    &lt;span class=&quot;annotation&quot;&gt;@Test&lt;/span&gt;
    &lt;span class=&quot;directive&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;void&lt;/span&gt; shouldReturnMockedBalance() {
        &lt;span class=&quot;predefined-type&quot;&gt;Double&lt;/span&gt; balance = userBalanceService.getAccountBalance(&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;user@bank.com&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;);
        assertEquals(balance, &lt;span class=&quot;predefined-type&quot;&gt;Double&lt;/span&gt;.valueOf(&lt;span class=&quot;float&quot;&gt;123.45D&lt;/span&gt;));
    }
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;You may notice appearance of &lt;code&gt;setUp&lt;/code&gt; method for setting up the mock behavior and new &lt;code&gt;@Profile&lt;/code&gt; annotation.
The annotation activates our profile &lt;code&gt;springTest&lt;/code&gt; so bean mocked with &lt;code&gt;Springockito&lt;/code&gt; will be injected where necessary.
On running this the test will pass, because &lt;code&gt;Spring&lt;/code&gt; injected &lt;code&gt;Mockito&lt;/code&gt; mock that we&amp;#8217;ve configured in test XML and not the external service instance.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;don-t-stop-on-the-way-to-perfectness&quot;&gt;Don&amp;#8217;t stop on the way to perfectness&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;It could be the end of the story be we could still go deeper on the problem.
&lt;code&gt;Springockito&lt;/code&gt; creator has another framework &lt;a href=&quot;https://bitbucket.org/kubek2k/springockito/wiki/springockito-annotations&quot; target=&quot;_blank&quot;&gt;Springockito Annotations&lt;/a&gt;.
The framework allows mock injection using annotation within test classes.
Please skim read it before proceed :)
After some modification code of our test will look this way.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;title&quot;&gt;UserBalanceServiceImplAnnotationTest&lt;/div&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;java&quot;&gt;&lt;span class=&quot;annotation&quot;&gt;@RunWith&lt;/span&gt;(SpringJUnit4ClassRunner.class)
&lt;span class=&quot;annotation&quot;&gt;@ContextConfiguration&lt;/span&gt;(loader = SpringockitoContextLoader.class,
    locations = &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;classpath:/springtest/springockito/applicationContext.xml&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;)
&lt;span class=&quot;directive&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;UserBalanceServiceImplAnnotationTest&lt;/span&gt; {
    &lt;span class=&quot;annotation&quot;&gt;@Autowired&lt;/span&gt;
    &lt;span class=&quot;directive&quot;&gt;private&lt;/span&gt; UserBalanceService userBalanceService;
    &lt;span class=&quot;annotation&quot;&gt;@Autowired&lt;/span&gt;
    &lt;span class=&quot;annotation&quot;&gt;@ReplaceWithMock&lt;/span&gt;
    &lt;span class=&quot;directive&quot;&gt;private&lt;/span&gt; BankService bankService;
    &lt;span class=&quot;annotation&quot;&gt;@Before&lt;/span&gt;
    &lt;span class=&quot;directive&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;void&lt;/span&gt; setUp() &lt;span class=&quot;directive&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;exception&quot;&gt;Exception&lt;/span&gt; {
        Mockito.when(bankService.getBalanceByEmail(&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;user@bank.com&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;)).thenReturn(&lt;span class=&quot;predefined-type&quot;&gt;String&lt;/span&gt;.valueOf(valueOf(&lt;span class=&quot;float&quot;&gt;123.45D&lt;/span&gt;)));
    }
    &lt;span class=&quot;annotation&quot;&gt;@Test&lt;/span&gt;
    &lt;span class=&quot;directive&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;void&lt;/span&gt; shouldReturnMockedBalance() {
        &lt;span class=&quot;predefined-type&quot;&gt;Double&lt;/span&gt; balance = userBalanceService.getAccountBalance(&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;user@bank.com&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;);
        assertEquals(balance, valueOf(&lt;span class=&quot;float&quot;&gt;123.45D&lt;/span&gt;));
    }
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Please note that no new XML configuration required. We&amp;#8217;re using production XML config and just override single bean using &lt;code&gt;@ReplaceWithMock&lt;/code&gt; annotation.
Later we can customize the mock in &lt;code&gt;setUp&lt;/code&gt; method.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;p-s&quot;&gt;P.S.&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;&lt;code&gt;Springockito-annotations&lt;/code&gt; project has one great advantage - it provides test code only based dependency override mechanism.
Neither additional XML, nor production code modifications for test purposes.
Unlike &lt;code&gt;springockito-annotations&lt;/code&gt; approach the XML based one makes creation of test specific XML mandatory always.
So I strongly recommend using &lt;code&gt;Springockito-annotations&lt;/code&gt; project for your integration tests,
so they won&amp;#8217;t affect your production code design and won&amp;#8217;t produce additional artifacts - i.e. test XML configuration files.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;p-p-s&quot;&gt;P.P.S.&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Writing integration tests for Spring is easy ! Project can be found on &lt;a href=&quot;https://github.com/eshepelyuk/CodeForBlog/tree/master/TestMeIfYouCan1&quot; target=&quot;_blank&quot;&gt;My GitHub&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
        <pubDate>Fri, 28 Jun 2013 00:00:00 +0000</pubDate>
        <link>http://eshepelyuk.github.io/2013/06/28/test-me-if-you-can-1.html</link>
        <guid isPermaLink="true">http://eshepelyuk.github.io/2013/06/28/test-me-if-you-can-1.html</guid>
        
        <category>java</category>
        
        <category>tdd</category>
        
        <category>spring</category>
        
        <category>mockito</category>
        
        <category>springockito</category>
        
        
      </item>
    
      <item>
        <title>Duck typing in Java ? Well, not exactly</title>
        <description>&lt;h1&gt;Duck typing in Java ? Well, not exactly&lt;/h1&gt;
&lt;div id=&quot;preamble&quot;&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;What is it all about ? According to Wikipedia duck typing is&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;quoteblock&quot;&gt;
&lt;blockquote&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;style of dynamic typing in which an object&amp;#8217;s methods and properties determine the valid semantics,
rather than its inheritance from a particular class or implementation of a specific interface&lt;/p&gt;
&lt;/div&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;attribution&quot;&gt;
&amp;#8212; Wikipedia
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;In simpler words&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;quoteblock&quot;&gt;
&lt;blockquote&gt;
When I see a bird that walks like a duck and swims like a duck and quacks like a duck, I call that bird a duck
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;In languages with dynamic typing this feature allows creating function that are not checking type of passed object
but instead rely on existence of particular methods/properties within it and throws runtime exception when those properties not found.
For instance, in &lt;code&gt;Groovy&lt;/code&gt; we could have a function for printing out info about an entity&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;groovy&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; printEntity = {entity -&amp;gt;
  println &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;id: &lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;${&lt;/span&gt;entity.id&lt;span class=&quot;inline-delimiter&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;, name: &lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;${&lt;/span&gt;entity.name&lt;span class=&quot;inline-delimiter&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Let&amp;#8217;s say we have following class&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;groovy&quot;&gt;&lt;span class=&quot;type&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;Entity&lt;/span&gt; {
  &lt;span class=&quot;predefined-type&quot;&gt;Long&lt;/span&gt; id
  &lt;span class=&quot;predefined-type&quot;&gt;String&lt;/span&gt; name
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;So we can invoke our function&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre&gt;printEntity(new Entity(id: 10L, name: &#39;MyName1&#39;))
id: 10, name: MyName1&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;But the same time we could pass map as argument&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre&gt;printEntity([&#39;id&#39;:10L, &#39;name&#39;:&#39;MyName2&#39;])
id: 10, name: MyName2&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Using metaprogramming magic we could write even following&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;groovy&quot;&gt;&lt;span class=&quot;type&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;Ghost&lt;/span&gt; {
 &lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;propertyMissing&lt;/span&gt;(&lt;span class=&quot;predefined-type&quot;&gt;String&lt;/span&gt; name) {
  &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (name == &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;) {
   &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; -&lt;span class=&quot;integer&quot;&gt;1L&lt;/span&gt;
  } &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (name == &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;) {
   &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;StubName&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;
  }
 }
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;And we will be still able to call our function&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre&gt;printEntity(new Ghost())
id: -1, name: StubName&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;welcome-to-the-real-world&quot;&gt;Welcome to the real world&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Fortunately this concept can be used not only for languages with dynamic typing but for ones with more strict typing model, as &lt;code&gt;Java&lt;/code&gt;.
Wikipedia has good &lt;a href=&quot;http://en.wikipedia.org/wiki/Duck_typing#In_Java&quot; target=&quot;_blank&quot;&gt;example&lt;/a&gt; of duck typing implementation in &lt;code&gt;Java&lt;/code&gt;
using &lt;code&gt;Proxy&lt;/code&gt; class.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Well, you&amp;#8217;d say, what is the practical usage of this, except feeling oneself the wisest guru :)
Let me show some real life task that was solved in Java using &lt;em&gt;Duck Typing&lt;/em&gt; technique.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;From the beginning we had simple report generator that queries DB of products and outputs id and name of certain entity.&lt;/p&gt;
&lt;/div&gt;
&lt;table class=&quot;tableblock frame-all grid-all spread&quot;&gt;
&lt;colgroup&gt;
&lt;col style=&quot;width: 50%;&quot;&gt;
&lt;col style=&quot;width: 50%;&quot;&gt;
&lt;/colgroup&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th class=&quot;tableblock halign-left valign-top&quot;&gt;id&lt;/th&gt;
&lt;th class=&quot;tableblock halign-left valign-top&quot;&gt;name&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;123&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;Phone #1&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;222&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;Book #2&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;But then customer says:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;quoteblock&quot;&gt;
&lt;blockquote&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;I&amp;#8217;d like to also have link to the entity detail page at our site.
Beautiful, SEO friendly link. Could you do it to me ?&lt;/p&gt;
&lt;/div&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;&quot;Sure &quot;, I said. After digging our codebase I&amp;#8217;ve discovered cool function &lt;code&gt;generateSeoUrl()&lt;/code&gt; that does the job.
The function takes one argument of type &lt;code&gt;Entity&lt;/code&gt;, which is interface.
So my intention was to observe implementations of &lt;code&gt;Entity&lt;/code&gt; and try to use one of them for SEO URL creation in the report generator.
How surprised was I after discovering that all of them are part of some self made &lt;em&gt;ORM&lt;/em&gt; tool
and their constructors query DB to get the entire information about product.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;So if I were using &lt;code&gt;Entity&lt;/code&gt; implementations I had to deal with one extra query per row of my report and this is unacceptable
since report was comprised of huge number of rows. So I decided to try other approach and implement &lt;code&gt;Entity&lt;/code&gt; interface,
overriding methods that are used by &lt;code&gt;generateSeoUrl()&lt;/code&gt;.
I clicked my IDE shortcut and got surprised again. &lt;code&gt;Entity&lt;/code&gt; had &lt;strong&gt;50 (!!!)&lt;/strong&gt; methods.
Well, I already knew that only &lt;code&gt;getEntityId()&lt;/code&gt; and &lt;code&gt;getName()&lt;/code&gt; are used by &lt;code&gt;generateSeoUrl()&lt;/code&gt; function,
but then again, having new class with 50 empty methods just to override 2 of them doing useful action seemed not good idea for me.
Thus I&amp;#8217;ve decided stop trying coding and start to think :)
Extend some of the &lt;code&gt;Entity&lt;/code&gt; implementation to prevent querying DB or copy + paste &lt;code&gt;generateSeoUrl()&lt;/code&gt; and adopt it for my needs
were the options but still it was not beautiful. Especially when I reminded duck typing.
I said to myself, we have a function that takes instance of &lt;code&gt;Entity&lt;/code&gt; but only uses two method of this interface,
so to complete my task I need something that looks like &lt;code&gt;Entity&lt;/code&gt; and able to handle &lt;code&gt;getEntityId&lt;/code&gt; and &lt;code&gt;getName()&lt;/code&gt; methods.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Since &lt;code&gt;entityId&lt;/code&gt; and &lt;code&gt;name&lt;/code&gt;  were already present in data used for generating my report I could reuse them in my new class to stub data for &lt;code&gt;getEntityId()&lt;/code&gt; and &lt;code&gt;getName()&lt;/code&gt;.
To achieve duck typing we need to create &lt;code&gt;Proxy&lt;/code&gt; that also implements &lt;code&gt;InvocationHandler&lt;/code&gt; interface
and static method to retrieve instance of &lt;code&gt;Proxy&lt;/code&gt;. Final code of my class looks like&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;java&quot;&gt;&lt;span class=&quot;directive&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;ReportEntitySupport&lt;/span&gt; &lt;span class=&quot;directive&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;predefined-type&quot;&gt;InvocationHandler&lt;/span&gt; {
    &lt;span class=&quot;directive&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;directive&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;predefined-type&quot;&gt;Entity&lt;/span&gt; newInstance(&lt;span class=&quot;predefined-type&quot;&gt;Long&lt;/span&gt; entityId, &lt;span class=&quot;predefined-type&quot;&gt;String&lt;/span&gt; name) {
        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; (&lt;span class=&quot;predefined-type&quot;&gt;Entity&lt;/span&gt;) &lt;span class=&quot;predefined-type&quot;&gt;Proxy&lt;/span&gt;.newProxyInstance(
                Product.class.getClassLoader(),
                Product.class.getInterfaces(),
                &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ReportEntitySupport(entityId, name)
        );
    }

    &lt;span class=&quot;directive&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;directive&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;predefined-type&quot;&gt;String&lt;/span&gt; name;
    &lt;span class=&quot;directive&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;directive&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;predefined-type&quot;&gt;Long&lt;/span&gt; entityId;

    &lt;span class=&quot;directive&quot;&gt;private&lt;/span&gt; ReportEntitySupport(&lt;span class=&quot;predefined-type&quot;&gt;Long&lt;/span&gt; entityId, &lt;span class=&quot;predefined-type&quot;&gt;String&lt;/span&gt; name) {
        &lt;span class=&quot;local-variable&quot;&gt;this&lt;/span&gt;.name = name;
        &lt;span class=&quot;local-variable&quot;&gt;this&lt;/span&gt;.entityId = entityId;
    }

    &lt;span class=&quot;annotation&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;directive&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;predefined-type&quot;&gt;Object&lt;/span&gt; invoke(&lt;span class=&quot;predefined-type&quot;&gt;Object&lt;/span&gt; proxy, &lt;span class=&quot;predefined-type&quot;&gt;Method&lt;/span&gt; method, &lt;span class=&quot;predefined-type&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;type&quot;&gt;[]&lt;/span&gt; args) &lt;span class=&quot;directive&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;predefined-type&quot;&gt;Throwable&lt;/span&gt; {
        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (method.getName().equals(&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;getName&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;)) {
            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;local-variable&quot;&gt;this&lt;/span&gt;.name;
        } &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (method.getName().equals(&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;getEntityId&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;)) {
            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;local-variable&quot;&gt;this&lt;/span&gt;.entityId;
        }
        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;predefined-constant&quot;&gt;null&lt;/span&gt;;
    }
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;So how to use it ?&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Inside my report generator while iterating over &lt;code&gt;ResultSet&lt;/code&gt; I&amp;#8217;m using following&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;java&quot;&gt;&lt;span class=&quot;predefined-type&quot;&gt;Long&lt;/span&gt; entityId = ...;        &lt;span class=&quot;comment&quot;&gt;//retrieve entityId from ResultSet&lt;/span&gt;
&lt;span class=&quot;predefined-type&quot;&gt;String&lt;/span&gt; name = ...;                 &lt;span class=&quot;comment&quot;&gt;//retrieve name from ResultSet&lt;/span&gt;

&lt;span class=&quot;predefined-type&quot;&gt;Entity&lt;/span&gt; entity = ReportEntitySupport.newIntance(entityId, name);
&lt;span class=&quot;predefined-type&quot;&gt;String&lt;/span&gt; seoUrl = generateSeoUrl(entity);
...&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
        <pubDate>Sat, 15 Sep 2012 00:00:00 +0000</pubDate>
        <link>http://eshepelyuk.github.io/2012/09/15/duck-typing-in-java-well-not-exactly.html</link>
        <guid isPermaLink="true">http://eshepelyuk.github.io/2012/09/15/duck-typing-in-java-well-not-exactly.html</guid>
        
        <category>java</category>
        
        <category>groovy</category>
        
        <category>duck typing</category>
        
        
      </item>
    
      <item>
        <title>CodingDojoCnUa #6</title>
        <description>&lt;h1&gt;CodingDojoCnUa #6&lt;/h1&gt;
&lt;div id=&quot;preamble&quot;&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Today, 28th of July, our CodingDojoCnUa community successfully conducted 6th Coding Dojo.
We met at Chernihiv&amp;#8217;s office of SysIQ, as few times before.
The subject of our session was &lt;code&gt;RomanNumerals&lt;/code&gt; kata - description can be found by &lt;a href=&quot;http://codingdojo.org/cgi-bin/wiki.pl?KataRomanNumerals&quot;&gt;HERE&lt;/a&gt;.
Main thing distinguishing this Dojo from previous ones was splitting the attendees into two separate teams
that were working on their own without shared &lt;em&gt;Design Session&lt;/em&gt;.
Each team was responsible for figuring out own implementation and eventually produced working code together with unit tests.
Both implementation can be found at GitHub&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/eshepelyuk/CodingDojoCnUa/tree/master/Dojo6/teamA&quot; target=&quot;_blank&quot;&gt;Code for TeamA&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/eshepelyuk/CodingDojoCnUa/tree/master/Dojo6/teamB&quot; target=&quot;_blank&quot;&gt;Code for TeamB&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;what-we-ve-discovered&quot;&gt;What we&amp;#8217;ve discovered&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;First things to mention that team provided completely different solutions to the same problem.
Relative simplicity of Kata seemed to help coders to split task into smaller parts thus supporting true incremental development,
concentrating on providing small slices of functionality after creating failed test.
Unlike previous times there were no attempts to create &lt;code&gt;God Functions&lt;/code&gt; immediately after start of Dojo.
Although longer Design Sessions are essential to make team move faster and effectively with incremental development.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Second main observation is that few peoples who don&amp;#8217;t use TDD on daily basis realized that this approach
could significantly affect original design of algorithm and even imposes final design.
On retrospective meeting one of us described this impression&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;quoteblock&quot;&gt;
&lt;blockquote&gt;
People saw TDD in action.
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;3rd and the shortest - &lt;code&gt;CoffeeScript&lt;/code&gt; tastes better each time you try it :)&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;what-we-re-gonna-try-next-time&quot;&gt;What we&amp;#8217;re gonna try next time ?&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Apparently largest negative issue raised on retro was isolation of members within own team and lack of inter-team communication.
Attendees suggested various options, even tackle more complicated task than kata,
like some sort of network game, and go through complete process of application development.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;But finally we agreed on just to exchange team members in the middle of next Dojo
to see if this is helpful for coding and / or brings more fun to the event :)&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Some photos &lt;a href=&quot;http://www.facebook.com/media/set/?set=oa.378960365504429&amp;amp;type=1&quot; target=&quot;_blank&quot;&gt;@Facebook&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
        <pubDate>Sat, 28 Jul 2012 00:00:00 +0000</pubDate>
        <link>http://eshepelyuk.github.io/2012/07/28/codingdojocnua-6.html</link>
        <guid isPermaLink="true">http://eshepelyuk.github.io/2012/07/28/codingdojocnua-6.html</guid>
        
        <category>coffeescript</category>
        
        <category>coding dojo</category>
        
        <category>kata</category>
        
        
      </item>
    
      <item>
        <title>WebDriver tricks #3</title>
        <description>&lt;h1&gt;WebDriver tricks #3&lt;/h1&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;intro&quot;&gt;Intro&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;It&amp;#8217;s common case for dynamic pages to show / hide some elements basing on user&amp;#8217;s actions.
But covering them with stable WebDriver tests could be sometimes cumbersome.
I&amp;#8217;ll try to explain couple of techniques helping to deal with that sort of web pages.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;case-1&quot;&gt;Case #1&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;First approach I&amp;#8217;d like to describe is rendering all the elements on page load but set CSS &lt;code&gt;display&lt;/code&gt; property to &lt;code&gt;none&lt;/code&gt;
and later set it to empty or &lt;code&gt;block&lt;/code&gt; to make element visible.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;In this case we can&amp;#8217;t just check visibility by using &lt;code&gt;webDriver.findElement(&amp;#8230;&amp;#8203;)&lt;/code&gt; since it will return valid element but we don&amp;#8217;t know if it visible or not.
Fortunately &lt;code&gt;WebElement&lt;/code&gt; interface has method &lt;code&gt;isDisplayed()&lt;/code&gt;, however obvious solution &lt;code&gt;webDriver.findElement(&amp;#8230;&amp;#8203;).isDisplayed()&lt;/code&gt;
could be erroneous because JavaScript code that changes element visibility works with delays.
To overcome such problems we can use &lt;code&gt;WebDriverWait&lt;/code&gt; class.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;java&quot;&gt;WebDriverWait webDriverWait = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; WebDriverWait(webDriver, &lt;span class=&quot;integer&quot;&gt;10L&lt;/span&gt;);
WebElement visibleElement = webDriverWait.until(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Function&amp;lt;Webdriver, WebElement&amp;gt;() {
        &lt;span class=&quot;annotation&quot;&gt;@Override&lt;/span&gt;
        &lt;span class=&quot;directive&quot;&gt;public&lt;/span&gt; WebElement apply(WebDriver webDriver) {
                WebElement we = webDriver.findElement(...);
                &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; we.isDisplayed() ? we : &lt;span class=&quot;predefined-constant&quot;&gt;null&lt;/span&gt;;
        }
});&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The code periodically finds element and checks its visibility.
When element exist and visible it will be returned by &lt;code&gt;until(..)&lt;/code&gt; method.
To check if element is invisible at the moment we can use similar approach just negating the condition in the function body&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;case-2&quot;&gt;Case #2&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;There&amp;#8217;s another option for dealing with show/hide certain parts of the page.
Your code can create required HTML on the fly while showing and remove elements from DOM while hiding.
To check element visibility we can use approach described above. But for checking if the part of the page is not shown to customer
we can&amp;#8217;t use that because there&amp;#8217;s no elements in DOM and if we try to use &lt;code&gt;findElement(&amp;#8230;&amp;#8203;)&lt;/code&gt; we will get the exception.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Issue could be solved by using &lt;code&gt;WebDriverWait&lt;/code&gt; &lt;code&gt;findElements(&amp;#8230;&amp;#8203;)&lt;/code&gt; method that doesn&amp;#8217;t throw an exception but return empty list if no elements found.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;java&quot;&gt;WebDriverWait webDriverWait = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; WebDriverWait(webDriver, &lt;span class=&quot;integer&quot;&gt;10L&lt;/span&gt;);
webDriverWait.until(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;predefined-type&quot;&gt;Predicate&lt;/span&gt;&amp;lt;WebDriver&amp;gt;() {
        &lt;span class=&quot;annotation&quot;&gt;@Override&lt;/span&gt;
        &lt;span class=&quot;directive&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;boolean&lt;/span&gt; apply(WebDriver webDriver) {
                &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; webDriver.findElements(...).size() == &lt;span class=&quot;integer&quot;&gt;0&lt;/span&gt;;
        }
});&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Code periodically searches for elements matching criteria and return true when no elements found.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;p-s&quot;&gt;P.S.&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;It could save your time and make your code cleaner if you put code samples from above as static methods into utility class.
This allows you to easily reuse such functionality while writing WebDriver tests for your pages.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
        <pubDate>Wed, 11 Jul 2012 00:00:00 +0000</pubDate>
        <link>http://eshepelyuk.github.io/2012/07/11/seleniumwebdriver-tricks-part-3.html</link>
        <guid isPermaLink="true">http://eshepelyuk.github.io/2012/07/11/seleniumwebdriver-tricks-part-3.html</guid>
        
        <category>java</category>
        
        <category>webdriver</category>
        
        <category>howto</category>
        
        
      </item>
    
      <item>
        <title>Grails + AngularJS + CoffeeScript</title>
        <description>&lt;h1&gt;Grails + AngularJS + CoffeeScript&lt;/h1&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;intro&quot;&gt;Intro&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Responsive design is a must for modern web-applications. Today this is attempted to achieve by using JavaScript MVC frameworks.
But more often than not those frameworks originate from &lt;code&gt;Rails&lt;/code&gt;, &lt;code&gt;NodeJS&lt;/code&gt; and other non-Java communities.
This makes it hard for Java-boys (as me) to jump into. So purpose of this short tutorial is to explain in few easy steps how to start with JS MVC framework and &lt;code&gt;CoffeeScript&lt;/code&gt; on &lt;code&gt;Grails&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;In this certain case &lt;code&gt;AngularJS&lt;/code&gt; is my personal choice taken up after playing around with few other libraries but principles described below should work for other frameworks.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Our intention will be to write one-page application having single input field and what&amp;#8217;s typed there is immediately reflected below in span tag.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;I&amp;#8217;m assuming readers could be unfamiliar with AngularJS, but, still, the application is really simple and should be easy to read.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;implementation&quot;&gt;Implementation&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;dlist&quot;&gt;
&lt;dl&gt;
&lt;dt class=&quot;hdlist1&quot;&gt;First let&amp;#8217;s create Grails application&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;&lt;code&gt;grails create-app testApp&lt;/code&gt;&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class=&quot;hdlist1&quot;&gt;After application is created let&amp;#8217;s change folder and all subsequent commands should be executed there&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;&lt;code&gt;cd testApp&lt;/code&gt;&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class=&quot;hdlist1&quot;&gt;&lt;code&gt;Grails&lt;/code&gt; already has plugin that support on-the fly conversion of your &lt;code&gt;CoffeeScript&lt;/code&gt; files into &lt;code&gt;JavaScript&lt;/code&gt;. To install it type following&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;&lt;code&gt;grails install-plugin coffeescript-resources&lt;/code&gt;&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class=&quot;hdlist1&quot;&gt;After plugin installed we are going to create empty file for our &lt;code&gt;CoffeeScript&lt;/code&gt; sources&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;&lt;code&gt;web-app/cs/angularIndex.coffee&lt;/code&gt;&lt;/p&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class=&quot;imageblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;img src=&quot;/images/2012-07-05/2.jpg&quot; alt=&quot;2&quot;&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;dlist&quot;&gt;
&lt;dl&gt;
&lt;dt class=&quot;hdlist1&quot;&gt;What&amp;#8217;s great about Grails - is the fact that it abounds with plugins. &lt;code&gt;AngularJS&lt;/code&gt; library can be installed by typing&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;&lt;code&gt;grails install-plugin angularjs-resources&lt;/code&gt;&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class=&quot;hdlist1&quot;&gt;Thanks to great &lt;code&gt;resources&lt;/code&gt;  plugin &lt;code&gt;JavaScript&lt;/code&gt; files management is quite easy in &lt;code&gt;Grails&lt;/code&gt;&lt;/dt&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;title&quot;&gt;grails-app/conf/MyResources.groovy&lt;/div&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;groovy&quot;&gt;modules = {
    angularIndex {
        dependsOn &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;angular&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;
        resource &lt;span class=&quot;key&quot;&gt;url&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;cs/angularIndex.coffee&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;
    }
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Code above declares resource for our AngularJS module written in &lt;code&gt;CoffeeScript&lt;/code&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;imageblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;img src=&quot;/images/2012-07-05/1.jpg&quot; alt=&quot;1&quot;&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;dlist&quot;&gt;
&lt;dl&gt;
&lt;dt class=&quot;hdlist1&quot;&gt;Next we need controller to serve starting point HTML with AngularJS module. We can do it with following command&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;&lt;code&gt;grails create-controller AngularIndex&lt;/code&gt;&lt;/p&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Also we need manually create Grails view for index action of our controller.  For this we have to create new file with following content&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;html&quot;&gt;.grails-app/views/angularIndex/index.gsp
&lt;span class=&quot;doctype&quot;&gt;&amp;lt;!DOCTYPE html&amp;gt;&lt;/span&gt;
&lt;span class=&quot;tag&quot;&gt;&amp;lt;html&amp;gt;&lt;/span&gt;
&lt;span class=&quot;tag&quot;&gt;&amp;lt;head&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;tag&quot;&gt;&amp;lt;r:require&lt;/span&gt; &lt;span class=&quot;attribute-name&quot;&gt;modules&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;angularIndex&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;tag&quot;&gt;&amp;lt;r:layoutResources&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;/&amp;gt;&lt;/span&gt;
&lt;span class=&quot;tag&quot;&gt;&amp;lt;/head&amp;gt;&lt;/span&gt;
&lt;span class=&quot;tag&quot;&gt;&amp;lt;body&lt;/span&gt; &lt;span class=&quot;attribute-name&quot;&gt;ng-app&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;MyApp&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;tag&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;attribute-name&quot;&gt;ng-controller&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;MyCtrl&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;gt;&lt;/span&gt;
    What typed reflected below

    &lt;span class=&quot;tag&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;attribute-name&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;attribute-name&quot;&gt;ng-model&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;myText&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;/&amp;gt;&lt;/span&gt;

    &lt;span class=&quot;tag&quot;&gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;b&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/b&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
&lt;span class=&quot;tag&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;span class=&quot;tag&quot;&gt;&amp;lt;/body&amp;gt;&lt;/span&gt;
&lt;span class=&quot;tag&quot;&gt;&amp;lt;r:layoutResources&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;/&amp;gt;&lt;/span&gt;
&lt;span class=&quot;tag&quot;&gt;&amp;lt;/html&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;dlist&quot;&gt;
&lt;dl&gt;
&lt;dt class=&quot;hdlist1&quot;&gt;Last step is to create AngularJS module in CoffeeScript. For this we have to fill &lt;code&gt;web-app/cs/angularIndex.coffee&lt;/code&gt; created before with following content&lt;/dt&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;title&quot;&gt;web-app/cs/angularIndex.coffee&lt;/div&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;coffescript&quot;&gt;app = angular.module &amp;quot;MyApp&amp;quot;, []
app.controller &amp;quot;MyCtrl&amp;quot;, ($scope) -&amp;gt;
  $scope.myText = &amp;quot;INITIAL&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;dlist&quot;&gt;
&lt;dl&gt;
&lt;dt class=&quot;hdlist1&quot;&gt;Let&amp;#8217;s run application&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;&lt;code&gt;grails run-app&lt;/code&gt;&lt;/p&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class=&quot;imageblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;img src=&quot;/images/2012-07-05/3.jpg&quot; alt=&quot;3&quot;&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;p-s&quot;&gt;P.S.&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Please notice that setup described above shouldn&amp;#8217;t be considered for production usage.
You probably need minification, zipping resources, etc - but then again it can be good starting point for research, prototyping and similar activities
towards developing modern front-ends.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;links&quot;&gt;Links&lt;/h3&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;http://angularjs.org/&quot; target=&quot;_blank&quot;&gt;AngularJS&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;http://coffeescript.org/&quot; target=&quot;_blank&quot;&gt;CoffeeScript&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;http://grails.org/&quot; target=&quot;_blank&quot;&gt;Grails&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
        <pubDate>Thu, 05 Jul 2012 00:00:00 +0000</pubDate>
        <link>http://eshepelyuk.github.io/2012/07/05/grails-angularjs-coffeescript.html</link>
        <guid isPermaLink="true">http://eshepelyuk.github.io/2012/07/05/grails-angularjs-coffeescript.html</guid>
        
        <category>javascript</category>
        
        <category>angularjs</category>
        
        <category>coffeescript</category>
        
        <category>mvc</category>
        
        <category>howto</category>
        
        <category>grails</category>
        
        <category>web</category>
        
        <category>groovy</category>
        
        
      </item>
    
      <item>
        <title>CodingDojoCnUa #2</title>
        <description>&lt;h1&gt;CodingDojoCnUa #2&lt;/h1&gt;
&lt;div id=&quot;preamble&quot;&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;On 5th of February our small Cherhihiv community made 2nd &lt;em&gt;CodingDojo&lt;/em&gt;.
This time it was dedicated to &lt;code&gt;JavaScript&lt;/code&gt; programming.
We tried to code some &lt;em&gt;Design Patterns&lt;/em&gt; in new language.
What we attained during 2 two 1 our long session is following patterns implemented&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;olist arabic&quot;&gt;
&lt;ol class=&quot;arabic&quot;&gt;
&lt;li&gt;
&lt;p&gt;Singleton, yeah yeah yeah :)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Factory method&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Template method v1 (prototype hierarchy)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Template method v2 (runtime meta-programming)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Decorator&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;What we found very good during retrospection is usage of &lt;em&gt;TimeBox&lt;/em&gt; policy for changing pilot/co-pilot,
we used 7 minutes limited time box and &lt;code&gt;IntelliJ IDEA&lt;/code&gt; &lt;code&gt;Pomodoro&lt;/code&gt; plugin was helpful on this.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;During programming we all suffered of our Java mindset.
Even plain looking into Wikipedia description and attempt to re-implement &lt;code&gt;Java&lt;/code&gt; code samples in &lt;code&gt;JavaScript&lt;/code&gt; were damaging our brains :)
Lack of interfaces (as in &lt;code&gt;Java&lt;/code&gt;) and completely different approach of creating class hierarchy slowed down our development speed.
Another issue was immense scope of our &lt;em&gt;Dojo&lt;/em&gt;. Certain targets (patterns) were chosen only at the beginning of session and it was a challenge
to create domain object for certain patterns without detailed design session for which we have no time.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;what-we-decided-to-do-next&quot;&gt;What we decided to do next&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;olist arabic&quot;&gt;
&lt;ol class=&quot;arabic&quot;&gt;
&lt;li&gt;
&lt;p&gt;Pick up and implement some Kata to have more certainty on what we wanna achieve&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Increase time box to 10 minutes, let&amp;#8217;s see if helps&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Get some cookies and drinks to not starve during session :)&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;my-personal-observations&quot;&gt;My personal observations&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The easiest part was &lt;code&gt;Jasmine&lt;/code&gt;. This BDD tool was adopted seamlessly by all of us since TDD tools and practices are familiar to us from &lt;code&gt;Java&lt;/code&gt; world
and &lt;code&gt;Jasmine&lt;/code&gt; is very similar.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;The hardest was start thinking again in higher level OOP terms, not in their equivalents in &lt;code&gt;Java&lt;/code&gt;.
All those interfaces, classes limited to the same named file and other limitation imposed by &lt;code&gt;Java&lt;/code&gt; were hard to overcome.
Considering present of duck typing in JavaScript we get rid of interfaces, abstract classes and class hierarchy at all.
Another uncommon point was API concentrated in module not in class as in &lt;code&gt;Java&lt;/code&gt; it it was also a bit frustrating from the beginning.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;But anyway the coolest thing was our success in short and stressful session as well as knowledge obtained.
I think attitude to &lt;code&gt;JavaScript&lt;/code&gt; should change a bit towards paying more respect for this amazing and underestimated language (my IMO though).&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
        <pubDate>Mon, 06 Feb 2012 00:00:00 +0000</pubDate>
        <link>http://eshepelyuk.github.io/2012/02/06/codingdojocnua-2-results.html</link>
        <guid isPermaLink="true">http://eshepelyuk.github.io/2012/02/06/codingdojocnua-2-results.html</guid>
        
        <category>javascript</category>
        
        <category>coding dojo</category>
        
        <category>design pattern</category>
        
        
      </item>
    
      <item>
        <title>CodingDojoCnUa #2 agenda and tools</title>
        <description>&lt;h1&gt;CodingDojoCnUa #2 agenda and tools&lt;/h1&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;intro&quot;&gt;Intro&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;On 5th of February we are going to have 2nd &lt;em&gt;CodingDojo&lt;/em&gt; meeting dedicated to improve our &lt;code&gt;JavaScript&lt;/code&gt; skills.
The purpose of our gathering will be implementation of design patterns using &lt;code&gt;JavaScript&lt;/code&gt; language.
The good list of patterns could be found &lt;a href=&quot;http://en.wikipedia.org/wiki/Software_design_pattern&quot; target=&quot;_blank&quot;&gt;Wikipedia page&lt;/a&gt;.
Please read the list before meeting :)&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Links below are also good starting point for exploring &lt;code&gt;JavaScript&lt;/code&gt;.
At least skim reading of links below is required before Dojo.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;http://bonsaiden.github.com/JavaScript-Garden&quot; target=&quot;_blank&quot;&gt;JavaScript Garden - General Guide&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;http://www.addyosmani.com/resources/essentialjsdesignpatterns/book&quot; target=&quot;_blank&quot;&gt;Some Design Patterns already implemented&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;agenda&quot;&gt;Agenda&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;We&amp;#8217;re going to pair-program using TDD while implementing few of &lt;em&gt;Software Design Patterns&lt;/em&gt;.
At our previous retro we&amp;#8217;ve chosen to use timeboxing for changing pilot/co-pilot.
Let&amp;#8217;s consider our participants gonna change every 5-7 minutes.&lt;/p&gt;
&lt;/div&gt;
&lt;table class=&quot;tableblock frame-all grid-all spread&quot;&gt;
&lt;colgroup&gt;
&lt;col style=&quot;width: 25%;&quot;&gt;
&lt;col style=&quot;width: 75%;&quot;&gt;
&lt;/colgroup&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th class=&quot;tableblock halign-left valign-top&quot;&gt;Time&lt;/th&gt;
&lt;th class=&quot;tableblock halign-left valign-top&quot;&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;10:30&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;Start and intro. Decide what exactly we gonna do, so-called &lt;em&gt;Design Session&lt;/em&gt;&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;10:50&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;1st coding session start&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;11:50&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;Break and &lt;em&gt;how it&amp;#8217;s going&lt;/em&gt; discussion, maybe lunch ?&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;12:20&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;2nd &lt;em&gt;Design Session&lt;/em&gt;&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;12:30&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;2nd coding session begin&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;13:30&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;Retro&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;14:00&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;End&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Exact agenda timings are subject to change depending on our progress during Dojo.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect1&quot;&gt;
&lt;h2 id=&quot;tools-we-gonna-use&quot;&gt;Tools we gonna use&lt;/h2&gt;
&lt;div class=&quot;sectionbody&quot;&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;We will be using &lt;code&gt;NodeJS&lt;/code&gt; as our &lt;code&gt;JavaScript&lt;/code&gt;, &lt;code&gt;Jasmine&lt;/code&gt; as &lt;em&gt;TDD/BDD&lt;/em&gt; framework and &lt;code&gt;IntelliJ IDEA&lt;/code&gt;.
Although &lt;code&gt;NodeJS&lt;/code&gt; is rich featured server-side framework we are intended to use it only as JS interpreter.
More docs could be found at &lt;a href=&quot;http://nodejs.org&quot; target=&quot;_blank&quot;&gt;NodeJS&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;&lt;code&gt;Jasmine&lt;/code&gt; &lt;em&gt;BDD&lt;/em&gt; framework for testing in &lt;code&gt;JavaScript&lt;/code&gt;. It has support for test suites, human friendly assertions,
basic mocking support so its good choice for beginners like us :). Find more on their &lt;a href=&quot;https://github.com/pivotal/jasmine/wiki&quot; target=&quot;_blank&quot;&gt;Docs page&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
        <pubDate>Sat, 28 Jan 2012 00:00:00 +0000</pubDate>
        <link>http://eshepelyuk.github.io/2012/01/28/codingdojocnua-2-agenda-and-tools.html</link>
        <guid isPermaLink="true">http://eshepelyuk.github.io/2012/01/28/codingdojocnua-2-agenda-and-tools.html</guid>
        
        <category>coding dojo</category>
        
        <category>howto</category>
        
        
      </item>
    
      <item>
        <title>WebDriver tricks #2</title>
        <description>&lt;h1&gt;WebDriver tricks #2&lt;/h1&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Have you ever heard about WebDriver&amp;#8217;s feature of capturing screenshots ?
Now you know it can do it too ! Today we faced a problem of debugging WebDriver tests of remote continuous integration server.
Since locally tests passed but failed on TeamCity we had a need to get some more debug info.
After playing around with capturing API i&amp;#8217;ve created utility class that is capturing browser screen and stores image
into folder named as test class with image filename equals to running test method.
For instance, you have class &lt;code&gt;com.MyUnstableWebTest&lt;/code&gt; and method &lt;code&gt;whenSmthHappensThenDoAction&lt;/code&gt;.
When the utility method is called - image file with slightly the same as below name gonna be created.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Example name: &lt;code&gt;/webtest-screenshot/com.MyUnstableWebTest/whenSmthHappensThenDoAction.png&lt;/code&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Here&amp;#8217;s sources of utility in &lt;code&gt;Groovy&lt;/code&gt;. Please note that was tested only with &lt;code&gt;FireFox&lt;/code&gt; web driver&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;CodeRay highlight&quot;&gt;&lt;code data-lang=&quot;groovy&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;package&lt;/span&gt; com.webtest

&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;include&quot;&gt;org.apache.commons.io.FileUtils&lt;/span&gt;
&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;include&quot;&gt;org.openqa.selenium.OutputType&lt;/span&gt;
&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;include&quot;&gt;org.openqa.selenium.TakesScreenshot&lt;/span&gt;
&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;include&quot;&gt;org.openqa.selenium.WebDriver&lt;/span&gt;

&lt;span class=&quot;type&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;ScreenshotUtils&lt;/span&gt; {
        &lt;span class=&quot;directive&quot;&gt;static&lt;/span&gt; storeScreenshot(WebDriver webDriver,
                        &lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; debugInfo = &lt;span class=&quot;predefined-type&quot;&gt;System&lt;/span&gt;.currentTimeMillis()) {
                &lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; webTest = &lt;span class=&quot;predefined-type&quot;&gt;Thread&lt;/span&gt;.currentThread().stackTrace.find {
            &lt;span class=&quot;local-variable&quot;&gt;it&lt;/span&gt;.className.endsWith(&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;WebTest&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;)
        }
        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!webTest) &lt;span class=&quot;keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;exception&quot;&gt;IllegalStateException&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;Called outside of WebTest&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;)

        &lt;span class=&quot;type&quot;&gt;byte&lt;/span&gt;&lt;span class=&quot;type&quot;&gt;[]&lt;/span&gt; srcFile = ((TakesScreenshot) webDriver).getScreenshotAs(OutputType.BYTES)
        FileUtils.writeByteArrayToFile(
            &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;predefined-type&quot;&gt;File&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;./webtest-screenshot/&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;${&lt;/span&gt;webTest.className&lt;span class=&quot;inline-delimiter&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;${&lt;/span&gt;webTest.methodName&lt;span class=&quot;inline-delimiter&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;${&lt;/span&gt;debugInfo&lt;span class=&quot;inline-delimiter&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;.png&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;),
                        srcFile
                )
    }
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
        <pubDate>Fri, 13 Jan 2012 00:00:00 +0000</pubDate>
        <link>http://eshepelyuk.github.io/2012/01/13/seleniumwebdriver-tricks-part-2.html</link>
        <guid isPermaLink="true">http://eshepelyuk.github.io/2012/01/13/seleniumwebdriver-tricks-part-2.html</guid>
        
        <category>java</category>
        
        <category>firefox</category>
        
        <category>webdriver</category>
        
        
      </item>
    
  </channel>
</rss>
